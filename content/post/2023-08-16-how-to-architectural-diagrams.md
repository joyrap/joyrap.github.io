---
title: 如何画架构图
date: 2023-08-16
layout: post
categories: ["documentation","Engineering","Design"]
draft: true
---

最近看了一篇[如何画软件架构图](https://nulab.com/learn/software-development/architectural-diagrams-what-to-know-and-how-to-draw-one/)的博客，结合个人的一些经验，整理总结一下。

### 一图胜千言

当你要描述一个复杂系统中各个组件之间的交互关系，组件之间还存在复杂的数据流转，仅仅只用文字很难对主题快速地树立形象的表达，这时候就需要用到架构图，架构图可以应用于很多领域，例如建筑，工程，IT，销售等等。

下面这张图就是一个非常好的案例，来至[The Code Review Pyramid](https://www.morling.dev/blog/the-code-review-pyramid/):

![Code review pyramid](https://www.morling.dev/images/code_review_pyramid.svg)

### 设计图与架构图

许多人混淆了两者之间的区别，架构图描述的是你正在构建的系统状态，组件之间的交互关系以及相互约束，设计图是你将要如何构建系统（未完成）。

例如：假设你正在建造一个足球场，架构图告诉你架构师想要什么，其中很多细节涉及到多个领域，但是架构图的主要目的是表达如何满足各方的需求，设计图则是如何逐步实现这些需求。

### 架构图的两个作用

#### 1.有助于理解系统

一图胜千言，一张架构图可以传递复杂的信息。

- 可以在图上看到系统全景，组件之间的上下游关系，以及他们如何互相影响。
- 架构图可以将组件关系和流程分层表达，可以自由地关注整体或局部。

#### 2.改善沟通和协作

软件工程师面临的主要问题之一是一致性，特别是多方参与的系统，团队之间沟通的主要障碍就是理解上的不一致，所以架构图也有助于信息标准化。

### 架构图的类型

软件架构图可以根据你表达信息的偏向，大致分为以下几类：

### 应用架构图

应用架构图用于表达软件系统的结构布局以及它如何与其他系统交互，这一类架构图旨在高度抽象组件如何构成系统。通常将关系图分组为层，这些层详细说明系统在不同级别的工作方式。

### 数据架构图

数据是系统的核心，一个庞大的系统往往伴随着各种业务数据，数据架构图提供数据如何在系统中流转的概况，当你想查询数据，或者扩展系统时非常有帮助。

### 集成架构图

集成架构图提供组件内部如何协作，以及如何与外部系统配合，集成架构图对设计和部署非常有帮助。

### 如何画架构图

#### 1.为图形做好文档

一张架构图中，你可能选择多个不同的形状表达不同的含义，未来避免混乱可以使用在图中特别说明，这样你在多处使用相同图形时，可以保持全局一致性。

例如下面这张图：
![SaaS Deploy Demo](/images/2023-08-16/SaaS_Deploy.jpg)

你可以标注不同颜色的线框的含义。

#### 2.不同的线框

图形的边缘，你可以选择实线，虚线，直角线框，还是圆角。


#### 3.保持箭头指向一致性

箭头的使用很多人最容易犯错，箭头可以表达数据流，或者依赖，但最好不要混合交叉使用。

#### 4.谨慎使用颜色



### 参考

- [图表即代码](https://blog.xiebiao.com/post/2021-11-22-diagrams-as-code/)
- [Architectural diagrams: what to know, and how to draw one](https://nulab.com/learn/software-development/architectural-diagrams-what-to-know-and-how-to-draw-one/)

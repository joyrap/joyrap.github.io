如何设计一个优惠券系统
-----------------------------------------------

## 背景

优惠券作为一个引流的促销手段，几乎是目前电商行业标配的系统，优惠券可以理解为电商行业中的虚拟货币，
无论是吸引新用户，还是在返流消费中都具有重要的作用。但优惠券本身的价值属性基本固定，
要么是代金券(消费中与真实货币一样)，要么是折扣券，在消费的总金额上优惠比例，或者直接满多少减现金。

## 业务形态

优惠券作为一个闭环系统，从优惠券的创建，用户领取/发放，到优惠券的消费，都在系统内部完成。

### 领券

领券行为对页面PV量提升有很大帮助，当然领券页面的流量也将是一个极大的技术难点。

### 发券

### 用券

### 退券

## 业务规则

### 领取规则

### 使用规则

## 业务运营

就像我们上面说到的，优惠券系统是一个闭环系统，如果你想通过给用户发一张券到用户账户，然后
就希望用户能够活跃起来，肯定是不行的，但是我们很多现有的运营策略应该思索。比如有一天老板冲到你
桌前告诉你，我们需要给所有用户发一张优惠券，并且邮件和短信通知用户。这时候我们应该冷静下来，
考虑以下几个问题：

- 1. 我们有多少用户？如果是1000万，是不是意味着我们需要给系统插入1000万条数据？多久能完成？
- 2. 邮件多久能发完？如何统计邮件的送达率？
- 3. 短信多久能发完？短信的成本是多少？

对于2，3因为涉及到外部系统，我们只能通过技术手段来增强，并不能在速度和准确上有很好的度量。
但对于第1点，我们需要做更多准备，因为用户基数越大，带来的问题越明显，在这里我们一定要站在非技术人员的角度
来看待这个问题，我们发券的目的是刺激那些真实的用户，1000万的用户里面我们一定可以进行一些归类统计，找到那些
只通过了注册， 但是从未有过消费行为的用户，甚至这些用户都没有登陆过，我们一定知道曾经给这样的用户发过类似的通知，
所以必须思索是否有必要让那些没价值的用户消耗我们的资源。

那么最好的策略是什么？那就是依赖2，3两点，假设你有一天收到
了一条银行5000万到账的短信，你会怎么样？你一定非常惊奇，马上去银行账户查询，或者通过电话联系银行确认，
最后的情况是， 要么有人确实误将5000万打入了你的账户，另外一种情况就是银行告知你那是一个错误短信。当然你觉得那是一个
诈骗短信，根本不用理睬。

让用户活跃起来的方式是邮件，短信或者其它及时消息手段，但并不意味着一定要将1000万条优惠券数据，在用户被通知之前插入到用户账户中。
一定还有更好的策略。

### 如何设计返券策略

## 优惠券的难点

## 风控

## 如何评价一个优惠券系统
